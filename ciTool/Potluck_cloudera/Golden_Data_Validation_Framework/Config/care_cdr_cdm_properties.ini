[APP]
INPUT_AGGREGATION_INTERVAL 900
OUTPUT_AGGREGATION_INTERVAL 900

[SQL]
CDR_CELLID_NET_LOAD_QUERY 	SELECT ServiceNodeAttribute.CELLID AS CELLID , ServiceNodeAttribute.LAC AS LAC, ServiceNodeKPIs.bintag, INT(SUM(ServiceNodeKPIs.COUNT_OUTGOING_SUCCESS_CALLS)) AS COSC, INT(SUM(ServiceNodeKPIs.COUNT_OUTGOING_TOTAL_DROPS)) AS COTD, INT(SUM(ServiceNodeKPIs.COUNT_INCOMING_SUCCESS_CALLS)) AS CISC, INT(SUM(ServiceNodeKPIs.COUNT_INCOMING_TOTAL_DROPS)) AS CITD FROM ServiceNodeKPIs JOIN ServiceNodeAttribute ON ServiceNodeKPIs.ServiceNodeId = ServiceNodeAttribute.ServiceNodeId WHERE ServiceNodeKPIs.ServiceNodeType IS NULL AND ServiceNodeKPIs.bintag>= $STARTTIMESTAMP$ AND ServiceNodeKPIs.bintag<= $ENDTIMESTAMP$ AND ServiceNodeAttribute.ServiceNodeClass='Cell' GROUP BY CELLID, LAC, ServiceNodeKPIs.bintag
CDR_CELLID_TAC_NET_LOAD_QUERY 	SELECT ServiceNodeAttribute.CELLID AS CELLID, ServiceNodeAttribute.LAC AS LAC, REVERSE(STRING(ServiceNodeToServiceNodeKPIs.SecondServiceNodeType)) AS TAC, ServiceNodeToServiceNodeKPIs.bintag, INT(SUM(ServiceNodeToServiceNodeKPIs.COUNT_OUTGOING_SUCCESS_CALLS)) AS COSC, INT(SUM(ServiceNodeToServiceNodeKPIs.COUNT_OUTGOING_TOTAL_DROPS)) AS COTD, INT(SUM(ServiceNodeToServiceNodeKPIs.COUNT_INCOMING_SUCCESS_CALLS)) AS CISC, INT(SUM(ServiceNodeToServiceNodeKPIs.COUNT_INCOMING_TOTAL_DROPS)) AS CITD FROM ServiceNodeToServiceNodeKPIs JOIN ServiceNodeAttribute ON ServiceNodeToServiceNodeKPIs.FirstServiceNodeId = ServiceNodeAttribute.ServiceNodeId WHERE ServiceNodeToServiceNodeKPIs.bintag>= $STARTTIMESTAMP$ AND ServiceNodeToServiceNodeKPIs.bintag<= $ENDTIMESTAMP$ AND ServiceNodeAttribute.ServiceNodeClass='Cell' GROUP BY CELLID, LAC, ServiceNodeToServiceNodeKPIs.SecondServiceNodeType, ServiceNodeToServiceNodeKPIs.bintag
CDR_SUBS_ID_LOAD_QUERY 	SELECT REVERSE(SubscriberAttribute.SubscriberName) AS MSISDN, STRING(ServiceNodeAttribute.IMEI) AS IMEI, SubscriberToServiceNodeKPIs.bintag, INT(SUM(SubscriberToServiceNodeKPIs.COUNT_OUTGOING_CALLS)) AS COC, INT(SUM(SubscriberToServiceNodeKPIs.COUNT_INCOMING_CALLS)) AS CIC, INT(SUM(SubscriberToServiceNodeKPIs.COUNT_OUTGOING_CALL_ATTEMPTS)) AS COCA, INT(SUM(SubscriberToServiceNodeKPIs.COUNT_OUTGOING_SUCCESS_CALLS)) AS COSC, INT(SUM(SubscriberToServiceNodeKPIs.COUNT_OUTGOING_NET_HAND_DROPS)) AS CONHD, INT(SUM(SubscriberToServiceNodeKPIs.COUNT_OUTGOING_NET_ONLY_DROPS)) AS CONOD, INT(SUM(SubscriberToServiceNodeKPIs.COUNT_OUTGOING_NET_HAND_BLOCKS)) AS CONHB, INT(SUM(SubscriberToServiceNodeKPIs.COUNT_OUTGOING_NET_ONLY_BLOCKS)) AS CONOB, INT(SUM(SubscriberToServiceNodeKPIs.COUNT_OUTGOING_NET_ONLY_FAILED)) AS CONOF,  INT(SUM(SubscriberToServiceNodeKPIs.COUNT_OUTGOING_TOTAL_DROPS)) AS COTD, INT(SUM(SubscriberToServiceNodeKPIs.COUNT_INCOMING_CALL_ATTEMPTS)) AS CICA, INT(SUM(SubscriberToServiceNodeKPIs.COUNT_INCOMING_SUCCESS_CALLS)) AS CISC, INT(SUM(SubscriberToServiceNodeKPIs.COUNT_INCOMING_NET_HAND_DROPS)) AS CINHD, INT(SUM(SubscriberToServiceNodeKPIs.COUNT_INCOMING_NET_ONLY_DROPS)) AS CINOD, INT(SUM(SubscriberToServiceNodeKPIs.COUNT_INCOMING_NET_HAND_BLOCKS)) AS CINHB, INT(SUM(SubscriberToServiceNodeKPIs.COUNT_INCOMING_NET_ONLY_BLOCKS)) AS CINOB, INT(SUM(SubscriberToServiceNodeKPIs.COUNT_INCOMING_NET_ONLY_FAILED)) AS CINOF, INT(SUM(SubscriberToServiceNodeKPIs.COUNT_INCOMING_TOTAL_DROPS)) AS CITD FROM SubscriberToServiceNodeKPIs JOIN SubscriberAttribute JOIN ServiceNodeAttribute ON SubscriberToServiceNodeKPIs.SubscriberId = SubscriberAttribute.SubscriberId AND ServiceNodeAttribute.ServiceNodeId = SubscriberToServiceNodeKPIs.ServiceNodeId WHERE SubscriberToServiceNodeKPIs.bintag>= $STARTTIMESTAMP$ AND SubscriberToServiceNodeKPIs.bintag<= $ENDTIMESTAMP$ AND ServiceNodeAttribute.ServiceNodeClass='Device' GROUP BY SubscriberAttribute.SubscriberName, ServiceNodeAttribute.IMEI, SubscriberToServiceNodeKPIs.bintag
CDR_TAC_LOAD_QUERY	SELECT REVERSE(STRING(ServiceNodeKPIs.ServiceNodeType)) AS TAC, ServiceNodeKPIs.bintag, INT(SUM(ServiceNodeKPIs.COUNT_OUTGOING_CALLS)) AS COC, INT(SUM(ServiceNodeKPIs.COUNT_INCOMING_CALLS)) AS CIC, INT(SUM(ServiceNodeKPIs.COUNT_OUTGOING_CALL_ATTEMPTS)) AS COCA, INT(SUM(ServiceNodeKPIs.COUNT_OUTGOING_SUCCESS_CALLS)) AS COSC, INT(SUM(ServiceNodeKPIs.COUNT_OUTGOING_NET_HAND_DROPS)) AS CONHD, INT(SUM(ServiceNodeKPIs.COUNT_OUTGOING_NET_ONLY_DROPS)) AS CONOD, INT(SUM(ServiceNodeKPIs.COUNT_OUTGOING_TOTAL_DROPS)) AS COTD, INT(SUM(ServiceNodeKPIs.COUNT_INCOMING_CALL_ATTEMPTS)) AS CICA, INT(SUM(ServiceNodeKPIs.COUNT_INCOMING_SUCCESS_CALLS)) AS CISC, INT(SUM(ServiceNodeKPIs.COUNT_INCOMING_NET_HAND_DROPS)) AS CINHD, INT(SUM(ServiceNodeKPIs.COUNT_INCOMING_NET_ONLY_DROPS)) AS CINOD, INT(SUM(ServiceNodeKPIs.COUNT_INCOMING_TOTAL_DROPS)) AS CITD, PCSAUDAF(SubscriberToServiceNodeKPIs.SubscriberId, 'BINARY') AS SUC FROM ServiceNodeKPIs JOIN SubscriberToServiceNodeKPIs ON ServiceNodeKPIs.ServiceNodeId = SubscriberToServiceNodeKPIs.ServiceNodeId AND ServiceNodeKPIs.ServiceId = SubscriberToServiceNodeKPIs.ServiceId WHERE ServiceNodeKPIs.ServiceNodeType IS NOT NULL AND ServiceNodeKPIs.bintag>= $STARTTIMESTAMP$ AND ServiceNodeKPIs.bintag<= $ENDTIMESTAMP$ GROUP BY ServiceNodeKPIs.bintag, ServiceNodeKPIs.ServiceNodeType
CDR_TAC_TOTAL_LOAD_QUERY 	Select PCSAUDAF(SubscriberToServiceNodeKPIs.SubscriberId, 'BINARY') AS SUC, SubscriberToServiceNodeKPIs.bintag FROM SubscriberToServiceNodeKPIs JOIN ServiceAttribute ON ServiceAttribute.ServiceId = SubscriberToServiceNodeKPIs.ServiceId WHERE ServiceAttribute.ServiceType = 'CDR' AND SubscriberToServiceNodeKPIs.bintag>= $STARTTIMESTAMP$ AND SubscriberToServiceNodeKPIs.bintag<= $ENDTIMESTAMP$ GROUP BY SubscriberToServiceNodeKPIs.bintag

[FLEXI-BIN]
BIN_POLICY		TIMESTAMP
POSTGRES_XML_PATH 	/opt/reflex/opt/care/common/postgres.xml
BIN_DURATION		900
TIME_COLUMN_NAME	timestamp
INPUT_DB_NAME 		golden_on_cdr_agg
OUTPUT_DB_NAME		golden_on_cdr_agg
PAST_OPEN_BINS		0
FUTURE_OPEN_BINS	0
DATA_WAIT_TIMEOUT	300

[INSTA]
DB_NAME 	golden_on_cdr_agg
XML_PATH 	/opt/reflex/opt/tms/xml_schema/insta_care.xml
BINSOURCE 	cdr_edw_bin_source

[IB]
